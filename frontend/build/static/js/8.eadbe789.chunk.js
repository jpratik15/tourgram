(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{43:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(47);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},47:function(e,t,a){},67:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a.n(n),c=a(45),i=a(10),s=a(0),l=a.n(s),o=a(1),u=a(55),p=a(42),d=a(52),m=a(57),f=a(43),b=a(16),v=a(46),h=a(11);a(67);t.default=function(){var e=Object(o.h)().placeId,t=Object(s.useState)(!0),a=Object(i.a)(t,2),n=a[0],j=a[1],E=Object(s.useState)(),O=Object(i.a)(E,2),x=O[0],k=O[1],g=Object(s.useState)(),V=Object(i.a)(g,2),w=V[0],y=V[1],T=Object(s.useContext)(h.a),C=Object(o.g)(),N=Object(m.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),P=Object(i.a)(N,3),S=P[0],A=P[1],D=P[2];if(Object(s.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.prev=1,t.next=4,fetch("".concat("https://tourgrambackend.herokuapp.com/api","/places/").concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:if(n=t.sent,a.ok){t.next=10;break}throw new Error(n.message);case 10:y(n.place),D({title:{value:n.place.title,isValid:!0},description:{value:n.place.description,isValid:!0}},!0),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),k(t.t0.message);case 17:j(!1);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}})()()}),[D,e]),n)return l.a.createElement("div",{className:"center"},l.a.createElement(b.a,null));if(!n&&!w&&!x)return l.a.createElement("div",{className:"center"},l.a.createElement(f.a,null,l.a.createElement("h2",null,"Cannot Find Place!")));var I=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,j(!0),t.next=5,fetch("".concat("https://tourgrambackend.herokuapp.com/api","/places/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+T.token},body:JSON.stringify({title:S.inputs.title.value,description:S.inputs.description.value})});case 5:return n=t.sent,t.next=8,n.json();case 8:if(c=t.sent,n.ok){t.next=11;break}throw new Error(c.message);case 11:j(!1),C.push("/"+T.userId+"/places"),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),j(!1),k(t.t0.message||"Something Went Wrong");case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{error:x,onClear:function(){k(null)}}),!n&&w&&l.a.createElement("form",{className:"place-form",onSubmit:I},l.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(d.c)()],errorText:"Please Enter Valid Text",onInput:A,initialValue:w.title,initialisValid:!0}),l.a.createElement(u.a,{id:"description",element:"textarea",label:"Description",validators:[Object(d.b)(5)],errorText:"Please Enter Valid Description",onInput:A,initialValue:w.description,initialisValid:!0}),l.a.createElement(p.a,{type:"submit",disabled:!S.isValid},"UPDATE PLACE")))}}}]);
//# sourceMappingURL=8.eadbe789.chunk.js.map