(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{42:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(8);a(51);t.a=function(e){return e.href?c.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?c.a.createElement(r.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):c.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}},43:function(e,t,a){"use strict";var n=a(0),c=a.n(n);a(47);t.a=function(e){return c.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},46:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(48),o=a(42);t.a=function(e){return c.a.createElement(r.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:c.a.createElement(o.a,{onClick:e.onClear},"Okay")},c.a.createElement("p",null,e.error))}},47:function(e,t,a){},48:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(7),o=a.n(r),l=a(41),s=a(15),i=(a(50),function(e){var t=c.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},c.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},c.a.createElement("h2",null,e.header)),c.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},c.a.createElement("div",{className:"modal__content ".concat(e.contestClass)},e.children),c.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return o.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return c.a.createElement(c.a.Fragment,null,e.show&&c.a.createElement(s.a,{onClick:e.onCancel}),c.a.createElement(l.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},c.a.createElement(i,e)))}},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(8),o=(a(53),function(e){return c.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},c.a.createElement("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}}))}),l=a(43);a(54),t.a=function(e){return c.a.createElement("li",{className:"user-item"},c.a.createElement(l.a,{className:"user-item__content"},c.a.createElement(r.b,{to:"/".concat(e.id,"/places")},c.a.createElement("div",{className:"user-item__image"},c.a.createElement(o,{image:"".concat("https://tourgrambackend.herokuapp.com","/").concat(e.image),alt:e.name})),c.a.createElement("div",{className:"user-item__info"},c.a.createElement("h2",null,e.name),c.a.createElement("h3",null,e.placeCount," ",1===e.placeCount?"Place":"Places")))))}},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(44),c=a.n(n),r=a(45),o=a(10),l=a(0),s=a.n(l),i=a(1),m=(a(60),a(46)),u=a(16),d=a(43),E=a(42),f=a(48),p=a(62),h=a.n(p),b=(a(63),function(e){var t=e.center,a=e.zoom;console.log(t);var n=Object(l.useRef)();return Object(l.useEffect)((function(){h.a.accessToken="pk.eyJ1IjoianByYXRpazE1IiwiYSI6ImNrbHoyem50djJnMmMycW1wNjJkanh0YTIifQ.gGccuPvPWneomS_E1JoWUQ";var e=new h.a.Map({container:n.current,style:"mapbox://styles/mapbox/streets-v11",center:t,zoom:a});new h.a.Marker({position:t,map:e})}),[t,a]),s.a.createElement("div",{ref:n,className:"map ".concat(e.className),style:e.style})}),v=a(11),g=(a(64),function(e){var t=Object(l.useContext)(v.a),a=Object(l.useState)(!1),n=Object(o.a)(a,2),i=n[0],p=n[1],h=Object(l.useState)(!1),g=Object(o.a)(h,2),k=g[0],N=g[1],C=Object(l.useState)(),O=Object(o.a)(C,2),_=O[0],j=O[1],y=function(){p(!1)},w=Object(l.useState)(!1),S=Object(o.a)(w,2),x=S[0],I=S[1],D=function(){I(!1)},z=function(){var a=Object(r.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return I(!1),a.prev=1,N(!0),a.next=5,fetch("".concat("https://tourgrambackend.herokuapp.com/api","/places/").concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer "+t.token}});case 5:N(!1),e.onDelete(e.id),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),j(a.t0.message),N(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(){return a.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{error:_,onClear:function(){j(null)}}),s.a.createElement(f.a,{show:i,onCancel:y,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:s.a.createElement(E.a,{onClick:y},"CLOSE")},s.a.createElement("div",{className:"map-container"},s.a.createElement(b,{center:e.coordinates,zoom:16}))),s.a.createElement(f.a,{show:x,onCancel:D,header:"Are you Sure?",footerClass:"place-item__modal-actions",footer:s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{inverse:!0,onClick:D},"CANCEL"),s.a.createElement(E.a,{danger:!0,onClick:z},"DELETE"))},s.a.createElement("p",null,"This action cannot be reversed!")),s.a.createElement("li",{className:"place-item"},s.a.createElement(d.a,{className:"place-item__content"},k&&s.a.createElement(u.a,{asOverlay:!0}),s.a.createElement("div",{className:"place-item__image"},s.a.createElement("img",{src:"".concat("https://tourgrambackend.herokuapp.com","/").concat(e.image),alt:e.title})),s.a.createElement("div",{className:"place-item__info"},s.a.createElement("h2",null,e.title),s.a.createElement("h3",null,e.address),s.a.createElement("p",null,e.description)),s.a.createElement("div",{className:"place-item__actions"},s.a.createElement(E.a,{inverse:!0,onClick:function(){p(!0)}},"VIEW ON MAP"),t.userId===e.creatorId&&s.a.createElement(E.a,{to:"/places/".concat(e.id)},"EDIT"),t.userId===e.creatorId&&s.a.createElement(E.a,{danger:!0,onClick:function(){I(!0)}},"DELETE")))))}),k=(a(65),function(e){return 0===e.items.length?s.a.createElement("div",{className:"place-list center"},s.a.createElement(d.a,null,s.a.createElement("h2",null,"No Place Found,Maybe create one?"),s.a.createElement(E.a,{to:"/places/new"},"Share Place"))):s.a.createElement("ul",{className:"place-list"},e.items.map((function(t){return s.a.createElement(g,{key:t.id,id:t.id,image:t.image,title:t.title,description:t.description,address:t.address,creatorId:t.creator,coordinates:t.location,onDelete:e.onDelete})})))});t.default=function(e){var t=Object(l.useState)(!1),a=Object(o.a)(t,2),n=a[0],d=a[1],E=Object(l.useState)(),f=Object(o.a)(E,2),p=f[0],h=f[1],b=Object(l.useState)(),v=Object(o.a)(b,2),g=v[0],N=v[1],C=Object(i.h)().userId;Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,fetch("".concat("https://tourgrambackend.herokuapp.com/api","/places/user/").concat(C));case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,t.ok){e.next=10;break}throw new Error(a.message);case 10:N(a.places),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),h(e.t0.message);case 16:d(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{error:p,onClear:function(){h(null)}}),n&&s.a.createElement("div",{className:"center"},s.a.createElement(u.a,null)),!n&&g&&s.a.createElement(k,{items:g,onDelete:function(e){N((function(t){return t.filter((function(t){return t.id!==e}))}))}}))}}}]);
//# sourceMappingURL=4.bd51f763.chunk.js.map